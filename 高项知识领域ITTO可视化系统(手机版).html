<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>高项知识领域ITTO可视化系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: #f5f7fa;
            color: #333;
            min-height: 100vh;
            line-height: 1.5;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            padding: 0 0 20px;
        }
        
        /* 顶部标题区域 */
        .app-header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 20px 15px 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .app-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            text-align: center;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .app-subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
            text-align: center;
            margin-bottom: 15px;
        }
        
        /* 统计信息 - 水平滚动 */
        .stats-container {
            display: flex;
            overflow-x: auto;
            padding-bottom: 10px;
            margin: 0 -15px 15px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
        }
        
        .stats-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .stat-item {
            flex: 0 0 auto;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 15px;
            margin-right: 10px;
            min-width: 100px;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .stat-item:first-child {
            margin-left: 15px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            line-height: 1;
        }
        
        .stat-label {
            font-size: 0.85rem;
            margin-top: 5px;
        }
        
        /* 搜索框 */
        .search-container {
            padding: 0 15px 15px;
            position: relative;
        }
        
        .search-box {
            display: flex;
            background: white;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        #searchInput {
            flex: 1;
            padding: 15px 20px;
            border: none;
            outline: none;
            font-size: 1rem;
            background: transparent;
        }
        
        #searchButton {
            padding: 0 20px;
            background: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        #searchButton:active {
            background: #2980b9;
        }
        
        /* 标签页导航 */
        .tabs-container {
            display: flex;
            overflow-x: auto;
            background: white;
            border-bottom: 1px solid #e0e0e0;
            padding: 0 15px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        
        .tabs-container::-webkit-scrollbar {
            display: none;
        }
        
        .tab {
            flex: 0 0 auto;
            padding: 15px 0;
            margin-right: 25px;
            font-size: 1rem;
            color: #7f8c8d;
            position: relative;
            white-space: nowrap;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .tab.active {
            color: #3498db;
            font-weight: 600;
        }
        
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #3498db;
            border-radius: 3px 3px 0 0;
        }
        
        /* 主内容区 */
        .main-content {
            padding: 15px;
        }
        
        /* 知识领域卡片 */
        .knowledge-area-card {
            background: white;
            border-radius: 12px;
            margin-bottom: 15px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .knowledge-area-card:active {
            transform: translateY(2px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }
        
        .area-header {
            background: linear-gradient(135deg, #34495e 0%, #4a6572 100%);
            color: white;
            padding: 18px 15px;
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .area-processes {
            padding: 15px;
        }
        
        .process-group {
            margin-bottom: 20px;
        }
        
        .process-group:last-child {
            margin-bottom: 0;
        }
        
        .group-title {
            font-size: 0.95rem;
            color: #7f8c8d;
            margin-bottom: 10px;
            padding-left: 5px;
            font-weight: 600;
        }
        
        .process-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }
        
        .process-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px 10px;
            font-size: 0.9rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        
        .process-item:hover, .process-item:active {
            background: #e3f2fd;
            border-left-color: #3498db;
            transform: translateY(-1px);
        }
        
        /* 模态框 - 移动端优化 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 15px;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background-color: white;
            width: 100%;
            max-width: 500px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.4s ease;
        }
        
        .modal-header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 20px 15px;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .modal-title {
            font-size: 1.4rem;
            margin: 0;
            padding-right: 30px;
        }
        
        .close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .modal-body {
            padding: 20px 15px;
        }
        
        .itto-section {
            margin-bottom: 25px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 1.2rem;
            color: #2c3e50;
            padding-bottom: 8px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .section-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            margin-right: 10px;
            flex-shrink: 0;
        }
        
        .input-icon {
            background: #3498db;
        }
        
        .tools-icon {
            background: #e74c3c;
        }
        
        .output-icon {
            background: #2ecc71;
        }
        
        .itto-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .itto-item {
            background-color: #f8f9fa;
            padding: 10px 15px;
            border-radius: 20px;
            border-left: 4px solid;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .itto-item:active {
            transform: translateY(-2px);
        }
        
        .input-item {
            border-left-color: #3498db;
        }
        
        .tools-item {
            border-left-color: #e74c3c;
        }
        
        .output-item {
            border-left-color: #2ecc71;
        }
        
        /* 底部导航栏 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #7f8c8d;
            font-size: 0.8rem;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .nav-item.active {
            color: #3498db;
        }
        
        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 3px;
        }
        
        /* 空状态提示 */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #7f8c8d;
        }
        
        .empty-icon {
            font-size: 3rem;
            color: #bdc3c7;
            margin-bottom: 15px;
        }
        
        /* 动画 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* 响应式调整 */
        @media (max-width: 350px) {
            .process-list {
                grid-template-columns: 1fr;
            }
            
            .app-title {
                font-size: 1.3rem;
            }
            
            .modal-title {
                font-size: 1.2rem;
            }
        }
        
        /* 搜索高亮 */
        .highlight {
            background-color: #fff3cd !important;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { background-color: #fff3cd; }
            50% { background-color: #ffeaa7; }
            100% { background-color: #fff3cd; }
        }
        
        /* 加载指示器 */
        .loading {
            text-align: center;
            padding: 30px;
            color: #7f8c8d;
        }
        
        .spinner {
            border: 3px solid rgba(52, 152, 219, 0.3);
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title"><i class="fas fa-project-diagram"></i> 高项ITTO系统</h1>
                <p class="app-subtitle">点击知识点查看输入、工具与技术、输出</p>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value">10</div>
                        <div class="stat-label">知识领域</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">49</div>
                        <div class="stat-label">管理过程</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">427</div>
                        <div class="stat-label">ITTO项目</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">5</div>
                        <div class="stat-label">过程组</div>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="搜索知识领域或过程...">
                <button id="searchButton"><i class="fas fa-search"></i></button>
            </div>
        </div>
        
        <div class="tabs-container">
            <div class="tab active" data-tab="all">全部</div>
            <div class="tab" data-tab="integration">整合</div>
            <div class="tab" data-tab="scope">范围</div>
            <div class="tab" data-tab="schedule">进度</div>
            <div class="tab" data-tab="cost">成本</div>
            <div class="tab" data-tab="quality">质量</div>
            <div class="tab" data-tab="resources">资源</div>
            <div class="tab" data-tab="communication">沟通</div>
            <div class="tab" data-tab="risk">风险</div>
            <div class="tab" data-tab="procurement">采购</div>
            <div class="tab" data-tab="stakeholder">相关方</div>
        </div>
        
        <div class="main-content" id="knowledgeAreasContainer">
            <!-- 知识领域卡片将通过JavaScript动态生成 -->
        </div>
        
        <!-- ITTO模态框 -->
        <div id="ittoModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="modalProcessTitle">制定项目章程</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="itto-section">
                        <div class="section-title">
                            <div class="section-icon input-icon">
                                <i class="fas fa-sign-in-alt"></i>
                            </div>
                            <span>输入</span>
                        </div>
                        <div class="itto-items" id="modalInputs">
                            <!-- 输入内容将通过JavaScript动态添加 -->
                        </div>
                    </div>
                    <div class="itto-section">
                        <div class="section-title">
                            <div class="section-icon tools-icon">
                                <i class="fas fa-tools"></i>
                            </div>
                            <span>工具与技术</span>
                        </div>
                        <div class="itto-items" id="modalTools">
                            <!-- 工具与技术内容将通过JavaScript动态添加 -->
                        </div>
                    </div>
                    <div class="itto-section">
                        <div class="section-title">
                            <div class="section-icon output-icon">
                                <i class="fas fa-sign-out-alt"></i>
                            </div>
                            <span>输出</span>
                        </div>
                        <div class="itto-items" id="modalOutputs">
                            <!-- 输出内容将通过JavaScript动态添加 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 底部导航栏 -->
        <div class="bottom-nav">
            <a href="#" class="nav-item active">
                <i class="fas fa-th-large nav-icon"></i>
                <span>知识领域</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-search nav-icon"></i>
                <span>搜索</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-star nav-icon"></i>
                <span>收藏</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-user nav-icon"></i>
                <span>我的</span>
            </a>
        </div>
    </div>

    <script>
        // ITTO数据 - 与原始数据相同
        const ittoData = {
            "制定项目章程": {
                "输入": ["立项管理文件", "协议", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "人际关系与团队技能", "会议"],
                "输出": ["项目章程", "假设日志"]
            },
            "制定项目管理计划": {
                "输入": ["项目章程", "其他知识领域规划过程的输出", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "人际关系与团队技能", "会议"],
                "输出": ["项目管理计划"]
            },
            "指导与管理项目工作": {
                "输入": ["项目管理计划", "项目文件", "批准的变更请求", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "项目管理信息系统", "会议"],
                "输出": ["可交付成果", "工作绩效数据", "问题日志", "变更请求", "项目管理计划(更新)", "项目文件(更新)", "组织过程资产(更新)"]
            },
            "管理项目知识": {
                "输入": ["项目管理计划", "项目文件", "可交付成果", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "知识管理", "信息管理", "人际关系与团队技能"],
                "输出": ["经验教训登记册", "项目管理计划(更新)", "组织过程资产(更新)"]
            },
            "监控项目工作": {
                "输入": ["项目管理计划", "项目文件", "工作绩效信息", "协议", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "决策", "会议"],
                "输出": ["工作绩效报告", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "实施整体变更控制": {
                "输入": ["项目管理计划", "项目文件", "工作绩效报告", "变更请求", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "变更控制工具", "数据分析", "决策", "会议"],
                "输出": ["批准的变更请求", "变更日志", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "结束项目或阶段": {
                "输入": ["项目章程", "项目管理计划", "项目文件", "验收的可交付成果", "立项管理文件", "协议", "采购文档", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "会议"],
                "输出": ["项目文件(更新)", "最终产品、服务或成果", "项目最终报告", "组织过程资产(更新)"]
            },
            "规划范围管理": {
                "输入": ["项目章程", "项目管理计划", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "会议"],
                "输出": ["范围管理计划", "需求管理计划"]
            },
            "收集需求": {
                "输入": ["立项管理文件", "项目章程", "项目管理计划", "项目文件", "协议", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "数据分析", "决策", "数据表现", "人际关系与团队技能", "系统交互图", "原型法"],
                "输出": ["需求文件", "需求跟踪矩阵"]
            },
            "定义范围": {
                "输入": ["项目章程", "项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "决策", "人际关系与团队技能", "产品分析"],
                "输出": ["项目范围说明书", "项目文件(更新)"]
            },
            "创建WBS": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "分解"],
                "输出": ["范围基准", "项目文件(更新)"]
            },
            "确认范围": {
                "输入": ["项目管理计划", "项目文件", "工作绩效数据", "核实的可交付成果"],
                "工具与技术": ["检查", "决策"],
                "输出": ["验收的可交付成果", "变更请求", "工作绩效信息", "项目文件(更新)"]
            },
            "控制范围": {
                "输入": ["项目管理计划", "项目文件", "工作绩效数据", "组织过程资产"],
                "工具与技术": ["数据分析", "趋势分析"],
                "输出": ["工作绩效信息", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "规划进度管理": {
                "输入": ["项目章程", "项目管理计划", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "会议"],
                "输出": ["进度管理计划"]
            },
            "定义活动": {
                "输入": ["项目管理计划", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "分解", "滚动式规划", "会议"],
                "输出": ["活动清单", "活动属性", "里程碑清单", "变更请求", "项目管理计划(更新)"]
            },
            "排列活动顺序": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["紧前关系绘图法", "箭线图法", "确定和整合依赖关系", "提前量和滞后量", "项目管理信息系统"],
                "输出": ["项目进度网络图", "项目文件(更新)"]
            },
            "估算活动持续时间": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "类比估算", "参数估算", "三点估算", "自下而上估算", "数据分析", "决策", "会议"],
                "输出": ["持续时间估算", "估算依据", "项目文件(更新)"]
            },
            "制定进度计划": {
                "输入": ["项目管理计划", "项目文件", "协议", "事业环境因素", "组织过程资产"],
                "工具与技术": ["进度网络分析", "关键路径法", "资源优化", "数据分析", "提前量与滞后量", "进度压缩", "计划评审技术", "项目管理信息系统", "敏捷或适应型发布规划"],
                "输出": ["进度基准", "项目进度计划", "进度数据", "项目日历", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "控制进度": {
                "输入": ["项目管理计划", "项目文件", "工作绩效数据", "组织过程资产"],
                "工具与技术": ["数据分析", "关键路径法", "项目管理信息系统", "资源优化", "提前量和滞后量", "进度压缩"],
                "输出": ["工作绩效信息", "进度预测", "变更请求", "项目管理计划(更新)", "项目文件更新(更新)"]
            },
            "规划成本管理": {
                "输入": ["项目章程", "项目管理计划", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "会议"],
                "输出": ["成本管理计划"]
            },
            "估算成本": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "类比估算", "参数估算", "自下而上估算", "三点估算", "数据分析", "项目管理信息系统", "决策"],
                "输出": ["成本估算", "估算依据", "项目文件(更新)"]
            },
            "制定预算": {
                "输入": ["项目管理计划", "可行性研究文件", "项目文件", "协议", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "成本汇总", "数据分析", "历史信息审核", "资金限制平衡", "融资"],
                "输出": ["成本基准", "项目资金需求", "项目文件(更新)", "资金需求"]
            },
            "控制成本": {
                "输入": ["项目管理计划", "项目资金需求", "项目文件", "工作绩效数据", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "完工尚需绩效指数", "项目管理信息系统"],
                "输出": ["工作绩效信息", "成本预测", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "规划质量管理": {
                "输入": ["项目章程", "项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "数据分析", "决策技术", "数据表现", "测试与检查的规划", "会议"],
                "输出": ["质量管理计划", "质量测量指标", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "管理质量": {
                "输入": ["项目管理计划", "项目文件", "组织过程资产"],
                "工具与技术": ["数据收集", "数据分析", "决策技术", "数据表现", "审计", "面向X的设计", "问题解决", "质量改进方法"],
                "输出": ["质量报告", "测试与评估文件", "变更请求", "项目管理计划(update)", "项目文件(update)"]
            },
            "控制质量": {
                "输入": ["项目管理计划", "项目文件", "可交付成果", "工作绩效数据", "批准的变更请求", "事业环境因素", "组织过程资产"],
                "工具与技术": ["数据收集", "数据分析", "检查", "测试/产品评估", "数据表现", "会议"],
                "输出": ["工作绩效信息", "质量控制测量结果", "核实的可交付成果", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "规划资源管理": {
                "输入": ["项目章程", "项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据表现", "组织理论", "会议"],
                "输出": ["资源管理计划", "团队章程", "项目文件(更新)"]
            },
            "估算活动资源": {
                "input": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "自下而上估算", "类比估算", "参数估算", "数据分析", "项目管理信息系统", "会议"],
                "输出": ["资源需求", "估算依据", "资源分解结构", "项目文件(更新)"]
            },
            "获取资源": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["决策", "人际关系与团队技能", "预分派", "虚拟团队"],
                "输出": ["物质资源分配单", "项目团队派工单", "资源日历", "变更请求", "项目管理计划(更新)", "项目文件(更新)", "事业环境因素(更新)", "组织过程资产(更新)"]
            },
            "建设团队": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["集中办公", "虚拟团队", "沟通技术", "人际关系与团队技能", "认可与奖励", "培训", "个人和团队评估", "会议"],
                "输出": ["团队绩效评价", "变更请求", "项目管理计划(更新)", "项目文件(更新)", "事业环境因素(更新)", "组织过程资产(更新)"]
            },
            "管理团队": {
                "输入": ["项目管理计划", "项目文件", "工作绩效报告", "团队绩效评价", "事业环境因素", "组织过程资产"],
                "工具与技术": ["人际关系与团队技能", "项目管理信息系统"],
                "输出": ["变更请求", "项目管理计划(更新)", "项目文件(更新)", "事业环境因素(更新)"]
            },
            "控制资源": {
                "输入": ["项目管理计划", "项目文件", "工作绩效数据", "协议", "组织过程资产"],
                "工具与技术": ["数据分析", "问题解决", "人际关系与团队技能", "项目管理信息系统"],
                "输出": ["工作绩效信息", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "规划沟通管理": {
                "输入": ["项目章程", "项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "沟通需求分析", "沟通技术", "沟通模型", "沟通方法", "人际关系与团队技能", "数据表现", "会议"],
                "输出": ["沟通管理计划", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "管理沟通": {
                "输入": ["项目管理计划", "项目文件", "工作绩效报告", "事业环境因素", "组织过程资产"],
                "工具与技术": ["沟通技术", "沟通方法", "沟通技能", "项目管理信息系统", "项目报告", "人际关系与团队技能", "会议"],
                "输出": ["项目沟通记录", "项目管理计划(更新)", "项目文件(更新)", "组织过程资产(更新)"]
            },
            "监督沟通": {
                "输入": ["项目管理计划", "项目文件", "工作绩效数据", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "项目管理信息系统", "数据表现", "人际关系与团队技能", "会议"],
                "输出": ["工作绩效信息", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "规划风险管理": {
                "输入": ["项目章程", "项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据分析", "会议"],
                "输出": ["风险管理计划"]
            },
            "识别风险": {
                "输入": ["项目管理计划", "项目文件", "采购文档", "协议", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "数据分析", "人际关系与团队技能", "提示清单", "会议"],
                "输出": ["风险登记册", "风险报告", "项目文件(更新)"]
            },
            "实施定性风险分析": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "数据分析", "人际关系与团队技能", "风险分类", "数据表现", "会议"],
                "输出": ["项目文件(更新)"]
            },
            "实施定量风险分析": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "人际关系与团队技能", "不确定性表现方式", "数据分析"],
                "输出": ["项目文件(更新)"]
            },
            "规划风险应对": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "人际关系与团队技能", "威胁应对策略", "机会应对策略", "应急应对策略", "整体项目风险应对策略", "数据分析", "决策"],
                "输出": ["变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "实施风险应对": {
                "输入": ["项目管理计划", "项目文件", "组织过程资产"],
                "工具与技术": ["专家判断", "人际关系与团队技能", "项目管理信息系统"],
                "输出": ["变更请求", "项目文件(更新)"]
            },
            "监督风险": {
                "输入": ["项目管理计划", "项目文件", "工作绩效数据", "工作绩效报告"],
                "工具与技术": ["数据分析", "审计", "会议"],
                "输出": ["工作绩效信息", "变更请求", "项目管理计划(更新)", "项目文件(更新)", "组织过程资产(更新)"]
            },
            "规划采购管理": {
                "输入": ["立项管理文件", "项目章程", "项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "数据分析", "供方选择分析", "会议"],
                "输出": ["采购管理计划", "采购策略", "采购工作说明书", "招标文件", "自制或外购决策", "独立成本估算", "供方选择标准", "变更请求", "项目文件(更新)", "组织过程资产(更新)"]
            },
            "实施采购": {
                "输入": ["项目管理计划", "项目文件", "采购文档", "卖方建议书", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "广告", "投标人会议", "数据分析", "人际关系与团队技能"],
                "输出": ["选定的卖方", "协议", "变更请求", "项目管理计划(更新)", "项目文件(更新)", "组织过程资产(update)"]
            },
            "控制采购": {
                "输入": ["项目管理计划", "项目文件", "采购文档", "协议", "工作绩效数据", "批准的变更请求", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "索赔管理", "数据分析", "检查", "审计"],
                "输出": ["采购关闭", "采购文档(更新)", "工作绩效信息", "变更请求", "项目管理计划(更新)", "项目文件(更新)", "组织过程资产(更新)"]
            },
            "识别相关方": {
                "输入": ["立项管理文件", "项目章程", "项目管理计划", "协议", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "数据分析", "数据表现", "会议"],
                "输出": ["干系人登记册", "变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "规划相关方参与": {
                "输入": ["项目章程", "项目管理计划", "项目文件", "协议", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "数据收集", "数据分析", "决策", "数据表现", "会议"],
                "输出": ["干系人参与计划"]
            },
            "管理相关方参与": {
                "输入": ["项目管理计划", "项目文件", "事业环境因素", "组织过程资产"],
                "工具与技术": ["专家判断", "沟通技能", "人际关系与团队技能", "基本规则", "会议"],
                "输出": ["变更请求", "项目管理计划(更新)", "项目文件(更新)"]
            },
            "监督相关方参与": {
                "输入": ["项目管理计划", "项目文件", "工作绩效数据", "事业环境因素", "组织过程资产"],
                "工具与技术": ["数据分析", "决策", "数据表现", "沟通技能", "人际关系与团队技能", "会议"],
                "输出": ["工作绩效信息", "变更请求", "项目管理计划(update)", "项目文件更新"]
            }
        };

        // 知识领域数据
        const knowledgeAreas = [
            {
                name: "项目整合管理",
                id: "integration",
                processes: {
                    "启动": ["制定项目章程"],
                    "计划": ["制定项目管理计划"],
                    "执行": ["指导与管理项目工作", "管理项目知识"],
                    "监控": ["监控项目工作", "实施整体变更控制"],
                    "收尾": ["结束项目或阶段"]
                }
            },
            {
                name: "项目范围管理",
                id: "scope",
                processes: {
                    "启动": [],
                    "计划": ["规划范围管理", "收集需求", "定义范围", "创建WBS"],
                    "执行": [],
                    "监控": ["确认范围", "控制范围"],
                    "收尾": []
                }
            },
            {
                name: "项目进度管理",
                id: "schedule",
                processes: {
                    "启动": [],
                    "计划": ["规划进度管理", "定义活动", "排列活动顺序", "估算活动持续时间", "制定进度计划"],
                    "执行": [],
                    "监控": ["控制进度"],
                    "收尾": []
                }
            },
            {
                name: "项目成本管理",
                id: "cost",
                processes: {
                    "启动": [],
                    "计划": ["规划成本管理", "估算成本", "制定预算"],
                    "执行": [],
                    "监控": ["控制成本"],
                    "收尾": []
                }
            },
            {
                name: "项目质量管理",
                id: "quality",
                processes: {
                    "启动": [],
                    "计划": ["规划质量管理"],
                    "执行": ["管理质量"],
                    "监控": ["控制质量"],
                    "收尾": []
                }
            },
            {
                name: "项目资源管理",
                id: "resources",
                processes: {
                    "启动": [],
                    "计划": ["规划资源管理", "估算活动资源"],
                    "执行": ["获取资源", "建设团队", "管理团队"],
                    "监控": ["控制资源"],
                    "收尾": []
                }
            },
            {
                name: "项目沟通管理",
                id: "communication",
                processes: {
                    "启动": [],
                    "计划": ["规划沟通管理"],
                    "执行": ["管理沟通"],
                    "监控": ["监督沟通"],
                    "收尾": []
                }
            },
            {
                name: "项目风险管理",
                id: "risk",
                processes: {
                    "启动": [],
                    "计划": ["规划风险管理", "识别风险", "实施定性风险分析", "实施定量风险分析", "规划风险应对"],
                    "执行": ["实施风险应对"],
                    "监控": ["监督风险"],
                    "收尾": []
                }
            },
            {
                name: "项目采购管理",
                id: "procurement",
                processes: {
                    "启动": [],
                    "计划": ["规划采购管理"],
                    "执行": ["实施采购"],
                    "监控": ["控制采购"],
                    "收尾": []
                }
            },
            {
                name: "项目相关方管理",
                id: "stakeholder",
                processes: {
                    "启动": ["识别相关方"],
                    "计划": ["规划相关方参与"],
                    "执行": ["管理相关方参与"],
                    "监控": ["监督相关方参与"],
                    "收尾": []
                }
            }
        ];

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            renderKnowledgeAreas('all');
            setupEventListeners();
        });

        // 渲染知识领域卡片
        function renderKnowledgeAreas(filter) {
            const container = document.getElementById('knowledgeAreasContainer');
            container.innerHTML = '';
            
            // 筛选知识领域
            const filteredAreas = filter === 'all' 
                ? knowledgeAreas 
                : knowledgeAreas.filter(area => area.id === filter);
            
            if (filteredAreas.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <p>没有找到相关的内容</p>
                        <p>请尝试其他筛选条件</p>
                    </div>
                `;
                return;
            }
            
            filteredAreas.forEach(area => {
                const card = document.createElement('div');
                card.className = 'knowledge-area-card';
                card.dataset.area = area.id;
                
                let processesHTML = '';
                
                // 添加各个过程组
                const processGroups = ["启动", "计划", "执行", "监控", "收尾"];
                processGroups.forEach(group => {
                    const processes = area.processes[group];
                    if (processes.length > 0) {
                        processesHTML += `
                            <div class="process-group">
                                <div class="group-title">${group}</div>
                                <div class="process-list">
                                    ${processes.map(process => `
                                        <div class="process-item" data-process="${process}">${process}</div>
                                    `).join('')}
                                </div>
                            </div>
                        `;
                    }
                });
                
                card.innerHTML = `
                    <div class="area-header">
                        <span>${area.name}</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                    <div class="area-processes">
                        ${processesHTML}
                    </div>
                `;
                
                container.appendChild(card);
            });
            
            // 为所有过程项添加点击事件
            document.querySelectorAll('.process-item').forEach(item => {
                item.addEventListener('click', function() {
                    const processName = this.getAttribute('data-process');
                    showIttoModal(processName);
                });
            });
            
            // 为知识领域卡片添加点击事件（展开/收起）
            document.querySelectorAll('.area-header').forEach(header => {
                header.addEventListener('click', function() {
                    const card = this.closest('.knowledge-area-card');
                    const processes = card.querySelector('.area-processes');
                    const icon = this.querySelector('i');
                    
                    if (processes.style.display === 'none') {
                        processes.style.display = 'block';
                        icon.className = 'fas fa-chevron-right';
                    } else {
                        processes.style.display = 'none';
                        icon.className = 'fas fa-chevron-down';
                    }
                });
            });
        }

        // 设置事件监听器
        function setupEventListeners() {
            // 标签页切换
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // 移除所有active类
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    // 当前标签页添加active类
                    this.classList.add('active');
                    // 渲染对应内容
                    const filter = this.getAttribute('data-tab');
                    renderKnowledgeAreas(filter);
                });
            });
            
            // 搜索功能
            document.getElementById('searchButton').addEventListener('click', performSearch);
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
            
            // 模态框关闭
            document.querySelector('.close').addEventListener('click', function() {
                document.getElementById('ittoModal').style.display = 'none';
            });
            
            // 点击模态框外部关闭
            window.addEventListener('click', function(event) {
                const modal = document.getElementById('ittoModal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            // 底部导航栏
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    // 模拟导航切换
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 如果是搜索按钮，聚焦搜索框
                    if (this.querySelector('span').textContent === '搜索') {
                        document.getElementById('searchInput').focus();
                    }
                });
            });
        }

        // 显示ITTO模态框
        function showIttoModal(processName) {
            const data = ittoData[processName];
            const modal = document.getElementById('ittoModal');
            
            if (!data) {
                processTitle.textContent = processName + " (数据加载中...)";
                document.getElementById('modalInputs').innerHTML = '<div class="itto-item">数据加载中...</div>';
                document.getElementById('modalTools').innerHTML = '<div class="itto-item">数据加载中...</div>';
                document.getElementById('modalOutputs').innerHTML = '<div class="itto-item">数据加载中...</div>';
            } else {
                document.getElementById('modalProcessTitle').textContent = processName;
                
                // 清空之前的内容
                const modalInputs = document.getElementById('modalInputs');
                const modalTools = document.getElementById('modalTools');
                const modalOutputs = document.getElementById('modalOutputs');
                
                modalInputs.innerHTML = '';
                modalTools.innerHTML = '';
                modalOutputs.innerHTML = '';
                
                // 添加输入内容
                if (data.输入 && data.输入.length > 0) {
                    data.输入.forEach(input => {
                        const item = document.createElement('div');
                        item.className = 'itto-item input-item';
                        item.textContent = input;
                        modalInputs.appendChild(item);
                    });
                } else {
                    modalInputs.innerHTML = '<div class="itto-item">暂无数据</div>';
                }
                
                // 添加工具与技术内容
                if (data["工具与技术"] && data["工具与技术"].length > 0) {
                    data["工具与技术"].forEach(tool => {
                        const item = document.createElement('div');
                        item.className = 'itto-item tools-item';
                        item.textContent = tool;
                        modalTools.appendChild(item);
                    });
                } else {
                    modalTools.innerHTML = '<div class="itto-item">暂无数据</div>';
                }
                
                // 添加输出内容
                if (data.输出 && data.输出.length > 0) {
                    data.输出.forEach(output => {
                        const item = document.createElement('div');
                        item.className = 'itto-item output-item';
                        item.textContent = output;
                        modalOutputs.appendChild(item);
                    });
                } else {
                    modalOutputs.innerHTML = '<div class="itto-item">暂无数据</div>';
                }
            }
            
            // 显示模态框
            modal.style.display = 'flex';
            
            // 滚动到顶部
            modal.querySelector('.modal-content').scrollTop = 0;
        }

        // 执行搜索
        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.trim().toLowerCase();
            if (!searchTerm) {
                alert('请输入搜索关键词');
                return;
            }
            
            // 移除之前的高亮
            document.querySelectorAll('.process-item').forEach(item => {
                item.classList.remove('highlight');
            });
            
            // 查找匹配的过程
            let found = false;
            const allProcessItems = document.querySelectorAll('.process-item');
            
            allProcessItems.forEach(item => {
                const processName = item.getAttribute('data-process').toLowerCase();
                if (processName.includes(searchTerm)) {
                    // 滚动到该过程所在的知识领域
                    const areaCard = item.closest('.knowledge-area-card');
                    areaCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    // 展开该知识领域
                    const processes = areaCard.querySelector('.area-processes');
                    const icon = areaCard.querySelector('.area-header i');
                    processes.style.display = 'block';
                    icon.className = 'fas fa-chevron-right';
                    
                    // 高亮显示匹配的过程
                    item.classList.add('highlight');
                    found = true;
                    
                    // 3秒后移除高亮
                    setTimeout(() => {
                        item.classList.remove('highlight');
                    }, 3000);
                }
            });
            
            if (!found) {
                alert('未找到匹配的过程，请尝试其他关键词');
            }
        }
    </script>
</body>
</html>